{% extends "base.html" %}

{% block content %}
<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Date</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody>
    {% for stock in stocks %}
        <tr>
          <td>{{ stock.Symbol }}</td>
          <td>{{ stock.Date }}</td>
          <td>{{ stock.Open }}</td>
          <td>{{ stock.High }}</td>
          <td>{{ stock.Low }}</td>
          <td>{{ stock.Close }}</td>
          <td>{{ stock.Volume }}</td>
        </tr>
      {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block scripts %}
<script>
  $(document).ready(function () {
    $('#data').DataTable({
      ajax: '/api/data',
      serverSide: true,
      columns: [
        {data: 'Symbol'},
        {data: 'Date'},
        {data: 'Date'},
        {data: 'High'},
        {data: 'Low'},
        {data: 'Close'},
        {data: 'Volume'},
      ],
    });
  });
</script>
{% endblock %}