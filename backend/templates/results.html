{% extends "base.html" %}

{% block content %}
<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Date</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody>
    {% for stock in stocks %}
        <tr class="symbol-link" data-bs-toggle="collapse" href="#{{ stock[0] }}" role="button" aria-expanded="false" aria-controls="collapseExample">
            <td>{{ stock[0] }}</td>
            <td>{{ stock[1] }}</td>
            <td>{{ stock[2] }}</td>
            <td>{{ stock[3] }}</td>
            <td>{{ stock[4] }}</td>
            <td>{{ stock[5] }}</td>
            <td>{{ stock[6] }}</td>
        </tr>
        <tr>
          <td colspan="7" class="card-output">
            <div class="collapse" id="{{ stock[0] }}">
              <div class="card card-body">
                Graph.png __predict stuff__
            </div>
          </td>
        </tr>
      {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block scripts %}
<script>
  $(document).ready(function () {
    $('#data').DataTable({
      ajax: '/api/data',
      serverSide: true,
      columns: [
        {data: 'Symbol'},
        {data: 'Date'},
        {data: 'Date'},
        {data: 'High'},
        {data: 'Low'},
        {data: 'Close'},
        {data: 'Volume'},
      ],
    });
  });
</script>
{% endblock %}